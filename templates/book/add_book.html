{% extends 'layout/base.html' %}
{% load static %}

{% block title%}
    {{ book.title }} - Book Detail
{% endblock title %}

{% block content %}

<div class="container">
    <h2 class="my-4">Add a new book</h2>
    <form method="post" enctype="multipart/form-data" class="needs-validation">
        {% csrf_token %}
        <div class="form-group">
            {{ form.title.label_tag }}
            <input type="text" class="form-control" name="{{ form.title.name }}" id="{{ form.title.id }}" required>
        </div>
        <div class="form-group">
            {{ form.description.label_tag }}
            <textarea class="form-control" name="{{ form.description.name }}" id="{{ form.description.id }}" rows="5" required></textarea>
        </div>
        <div class="form-group">
            {{ form.image.label_tag }}
            <div class="custom-file">
                {{ form.image }}
                <label class="custom-file-label" for="{{ form.image.id }}">Select an image</label>
            </div>
        </div>

        <div class="form-group">
            <img id="preview-image" src="" style="max-width: 300px;">
        </div>

        <div class="form-group">
            {{ form.cost.label_tag }}
            <input type="number" class="form-control" name="{{ form.cost.name }}" id="{{ form.cost.id }}" required>
        </div>
        <div class="form-group">
            {{ form.additional_info.label_tag }}
            <textarea class="form-control" name="{{ form.additional_info.name }}" id="{{ form.additional_info.id }}"></textarea>
        </div>
        <div class="form-group">
            <button type="submit" class="btn btn-primary">Add book</button>
        </div>

    </form>

    <a href="{% url 'book_list' %}" class="btn btn-secondary my-3">Cancel</a>
</div>

<script src="{% static 'index.js' %}"></script>
{% endblock content %}